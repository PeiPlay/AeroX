# 机身整体

为四旋翼无人机，对于俯视情况：右上为1号电机，依次逆时针排列。
即：右上1号电机，左上2号电机，左下3号电机，右下4号电机。

并且对于俯视情况，1号和3号电机为逆时针旋转，2号和4号电机为顺时针旋转。

俯视情况

2（↻）   1（↺）
3（↺）   4（↻）

# 姿态对应

对于 IMUyaw 角度，俯视情况下逆时针为增加，顺时针为减少。
对于 IMUpitch 角度，以水平为0点，机头上仰（电机12高于电机34）时为负值，下仰（电机12低于电机34）时为正值。
对于 IMUroll 角度，以水平为0点，机头向右横滚（电机23高于电机14）时为正值，向左横滚（电机23低于电机14）时为负值。

因此对应到飞机的坐标系中：
1. **定义的坐标系与正方向**

   * 机体坐标系（右手系）：

     * \$x\$ 轴：机头朝前
     * \$y\$ 轴：机翼向右
     * \$z\$ 轴：机底向下
   * 旋转顺序：Roll（绕 \$x\$）→ Pitch（绕 \$y\$）→ Yaw（绕 \$z\$）。

2. **IMU 角度读数**

   * **IMU.roll** > 0：电机 2、3 高于 1、4（机向右滚）。
   * **IMU.pitch** > 0：电机 1、2 低于 3、4（机头下仰）。
   * **IMU.yaw** > 0：俯视图下逆时针旋转（机头向左偏航）。

3. **映射关系（右手坐标系约定）**

   $$
   \begin{aligned}
   \phi_{\rm body}\;(\mathrm{roll})
   &= +\,\mathrm{IMU.roll},\\
   \theta_{\rm body}\;(\mathrm{pitch})
   &= -\,\mathrm{IMU.pitch},\\
   \psi_{\rm body}\;(\mathrm{yaw})
   &= -\,\mathrm{IMU.yaw}.
   \end{aligned}
   $$

4. **物理含义**

   * **\$\phi>0\$（正 Roll）**：机体向右滚，右侧下沉、左侧上升（电机 2、3 高于 1、4）。
   * **\$\theta>0\$（正 Pitch）**：机头上仰，前侧（电机 1、2）上升、高于后侧（电机 3、4）。
   * **\$\psi>0\$（正 Yaw）**：俯视图下顺时针偏航，机头向右旋转。

这样即可将 IMU 读数转换为机体坐标系下符合右手定则的 Roll, Pitch, Yaw。
